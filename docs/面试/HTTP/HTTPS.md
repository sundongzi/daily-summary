##### HTTP与HTTPS区别

- HTTP属于超文本传输协议，信息是明文传输，存在安全风险问题；HTTPS则解决HTTP不安全的缺陷，在TCP和HTTP网络层之间加入了SSL/TLS安全协议，使得报文能够加密传输。
- HTTP连接只需三次握手之后便可进行HTTP的报文传输。而HTTPS在TCP三次握手之后，还需进行SSL/TLS的握手过程，才可进入加密报文传输。
- 两者的默认端口不一样，HTTP默认端口号是80，HTTPS默认端口号是443
- HTTPS协议需要想CA（证书权威机构）申请数字证书，来保证服务器的身份是可信的。

##### HTTPS解决了HTTP的哪些问题

`HTTP`由于是明文传输，因此安全上存在以下三个风险：

- 窃听风险
- 篡改风险
- 冒充风险

##### 针对窃听风险的解决方案：

通过`非对称加密`和`对称加密`混合加密的方式，保证信息的机密性。

- 在通信建立前采用`非对称加密`的方式交换`会话秘钥`，后续就不再使用非对称加密。
- 在通信过程中全部使用`对称加密`的会话秘钥的方式加密明文数据。

##### 针对内容被篡改的解决方案：

通过`摘要算法（哈希函数）`来计算出内容的哈希值。

但需要注意的是，通过`哈希算法`可以确保内容不会被篡改，但是并不能保证【内容+哈希值】不会被中间人替换，因为缺少对客户端收到的消息是否来源于服务端的证明。

##### 数字签名算法

因此为了解决以上问题，计算机会用`非对称加密算法`来解决，通过`私钥加密、公钥解密`的方式来确认消息的身份，但需要注意的私钥加密的不是内容本身，而是对`内容的哈希值加密`。

##### 数字证书

为了防止公钥被伪造，因此会把公钥去`数字认证机构`进行注册，用机构的私钥对服务器的公钥做了一个数字签名，然后把服务器的`相关信息、公钥、数字签名`打包成一个数字证书。

每次拿到数字证书后会先去机构验证这个数字证书是否合法，机构用自己的公钥进行解密，如果解密成功则表示该证书是合法的，就会把证书里面的公钥交给客户端。

通过数字证书的方式保证服务器公钥的身份，解决冒充的风险。

<img src="/Users/sundong/Library/Application Support/typora-user-images/image-20230620153810065.png" alt="image-20230620153810065" style="zoom:50%;" />

##### 参考链接

[HTTP与HTTPS区别](https://xiaolincoding.com/network/2_http/http_interview.html#http-%E4%B8%8E-https)

