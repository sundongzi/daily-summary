---
title: ç”Ÿæˆæ¨¡æ¿æ–¹å¼
date: 2021-04-06 15:05:05
permalink: /pages/01584c/
categories:
  - å‰ç«¯
  - VUE
tags:
  - 
---
#### Vue-cli && Vscode-snippet

#### ä¸€ã€vue-cli

[`vue-cli`](https://github.com/vuejs/vue-cli) æ˜¯ [vuejs](https://github.com/vuejs/vue) å®˜æ–¹æä¾›çš„åŸºäº vuejs çš„é¡¹ç›®è„šæ‰‹æ¶å·¥å…·ï¼Œå…¶ä¸­`vue initï¼ˆé’ˆå¯¹vue-cli@2.xç‰ˆæœ¬ï¼‰` æ˜¯åŸºäºç¬¬ä¸‰æ–¹æ¨¡æ¿ç”Ÿæˆé¡¹ç›®çš„å‘½ä»¤ï¼Œç®€å•è¯´ä¸‹ç”Ÿæˆæ¨¡æ¿çš„æµç¨‹ï¼š

![image-20200630160825955](/Users/sundong/Library/Application Support/typora-user-images/image-20200630160825955.png)



##### å…·ä½“å¦‚ä½•ç”Ÿæˆæ¨¡æ¿å¦‚ä¸‹ï¼š

å‰æï¼š

1.æ¨¡æ¿ä»“åº“çš„æ ¹ç›®å½•ä¸‹å¿…é¡»æœ‰`template`ç›®å½•ï¼Œåœ¨è¯¥ç›®å½•ä¸‹å®šä¹‰ä½ çš„æ¨¡æ¿æ–‡ä»¶

2.æ¨¡æ¿ä»“åº“çš„æ ¹ç›®å½•ä¸‹å¿…é¡»æœ‰`meta.{js,json}`æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¿…é¡»å¯¼å‡ºä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºå®šä¹‰æ¨¡æ¿çš„`meta`ä¿¡æ¯

##### å¯¹äº`meta.{js,json}`æ–‡ä»¶ï¼Œç›®å‰å¯å®šä¹‰çš„å­—æ®µå¦‚ä¸‹

- `prompts<Object>`ï¼šæ”¶é›†ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®
- `filters<Object>`:æ ¹æ®æ¡ä»¶è¿‡æ»¤æ–‡ä»¶
- `completeMessage<String>`:æ¨¡æ¿æ¸²æŸ“å®Œæˆåç»™äºˆçš„æç¤ºä¿¡æ¯ï¼Œæ”¯æŒ[handlebars](https://www.handlebarsjs.cn/guide/#%E4%BB%80%E4%B9%88%E6%98%AF-handlebars%EF%BC%9F)ï¼ˆä¸€ç§ç®€å•çš„æ¨¡æ¿è¯­è¨€ï¼Œä½¿ç”¨æ¨¡æ¿å’Œè¾“å…¥å¯¹è±¡æ¥ç”ŸæˆHTMLæˆ–å…¶ä»–æ–‡æœ¬æ ¼å¼ï¼‰çš„è¡¨è¾¾å¼
- `complete<Function>`:æ¨¡æ¿æ¸²æŸ“å®Œæˆåçš„å›è°ƒå‡½æ•°ï¼Œä¼˜å…ˆäº`completeMessage`
- `helpers<Object>`:è‡ªå®šä¹‰`Handlebars`è¾…åŠ©å‡½æ•°

#####   prompts

`prompts`æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ª`prompts`éƒ½æ˜¯ä¸€ä¸ª[Inquirer.js](https://github.com/SBoudrias/Inquirer.js/#question)

```json
// meta.{js,json}
{
  "prompts": {
    "projectName":{
      "type": "string",
      "required": true,
      "message": "é¡¹ç›®åç§°"
    },
    "test": {
      "type": "confirm",
      "message": "test?"
    }
  }

}
```

æ‰€æœ‰çš„ç”¨æˆ·è¾“å…¥å®Œæˆä¹‹åï¼Œ`template`ç›®å½•åº•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å°†ä¼šç”¨[Handlebars](https://www.handlebarsjs.cn/guide/#%E4%BB%80%E4%B9%88%E6%98%AF-handlebars%EF%BC%9F)è¿›è¡Œæ¸²æŸ“ã€‚ç”¨æˆ·è¾“å…¥çš„æ•°æ®ä¼šä½œä¸ºæ¨¡æ¿æ¸²æŸ“æ—¶çš„ä½¿ç”¨æ•°æ®ï¼š

```json
// template/package.json
{{#test}}
 "test": "npm run test"
 {{/test}}
```

åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œåªæœ‰ç”¨æˆ·åœ¨`test`ä¸­çš„å›ç­”æ˜¯`yes`æ—¶ï¼Œ`test`è„šæœ¬æ‰ä¼šåœ¨`package.json`æ–‡ä»¶ä¸­ç”Ÿæˆ

`prompt`å¯ä»¥æ·»åŠ ä¸€ä¸ª`when`å­—æ®µï¼Œè¯¥å­—æ®µè¡¨ç¤ºæ­¤`prompt`ä¼šæ ¹æ®`when`çš„å€¼åˆ¤æ–­æ˜¯å¦å‡ºç°åœ¨ç»ˆç«¯æç¤ºç”¨æˆ·è¿›è¡Œè¾“å…¥.åœ¨`vue-cli`ä¸­ï¼Œä¼šæ ¹æ®`when`è¿›è¡Œ`eval`è¿ç®—

```javascript
// ...
if(prompt.when && !evaluate(prompt.when, data)){
  return done()
}
```

ç¤ºä¾‹å¦‚ä¸‹ï¼š

```json
// meta.{js,json}
{
  "prompts": {
    "lint": {
        "type": "confirm",
        "message": ""Use ESLint to lint your code?"
    },
    "eslint": {
      "when": "lint",  // åªæœ‰lintä¸ºyesæ—¶æ‰ä¼šåœ¨ç»ˆç«¯è§¦å‘æ˜¾ç¤ºeslint
      "type": "list",
      "message": "æ˜¯å¦ä½¿ç”¨eslintï¼Ÿ",
      "choices": [
        "standard",
        "airbnb",
        "none"
      ]
    }
  }
}
```

æ³¨æ„ï¼šé’ˆå¯¹`prompts`é»˜è®¤ç»ˆç«¯ä¼šæ˜¾ç¤º`nameï¼ˆç”¨æˆ·gitæ˜µç§°ï¼‰`å’Œ`å½“å‰ä½œè€…ï¼ˆç”¨æˆ·é‚®ç®±ï¼‰`ä¸¤ä¸ªäº¤äº’è®©ç”¨æˆ·å»è¾“å…¥ï¼Œè¿™ä¸ªæ˜¯`vue-cli`çš„é—®é¢˜ï¼Œ[å…·ä½“è¯·å‚è€ƒ](*https://github.com/vuejs/vue-cli/issues/1570*)

##### filters

`filters`å­—æ®µæ˜¯ä¸€ä¸ªåŒ…å«æ–‡ä»¶è¿‡æ»¤è§„åˆ™çš„å¯¹è±¡ï¼Œé”®ç”¨äºå®šä¹‰ç¬¦åˆ`minimatch glob pattern`è§„åˆ™çš„è¿‡æ»¤å™¨ï¼Œé”®å€¼æ˜¯`prompts`ä¸­ç”¨æˆ·çš„è¾“å…¥å€¼æˆ–è¡¨è¾¾å¼ã€‚æ¯”å¦‚ï¼š

```json
// meta.{js,json}
{
  "prompts": {
      "unit": {
          "type": "confirm",
          "message": "Setup unit tests with Mocha?"
      }
  },  
  "filters": {
    "test/*": "unit"
  }
}
```

åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­,`template`ç›®å½•ä¸‹`test`ç›®å½•åªæœ‰åœ¨ç”¨æˆ·`unit`ä¸­çš„å›ç­”æ˜¯`yes`æ—¶æ‰ä¼šç”Ÿæˆï¼Œåä¹‹ä¼šè¢«åˆ é™¤

å¦‚æœè¦åŒ¹é…ä»¥`.`å¼€å¤´çš„æ–‡ä»¶ï¼Œåˆ™éœ€è¦å°†[minimatch](https://github.com/isaacs/minimatch)çš„ `dot`é€‰é¡¹è®¾ç½®æˆ`true`

##### helpers

`helpers`å­—æ®µæ˜¯ä¸€ä¸ªåŒ…å«è‡ªå®šä¹‰çš„`Handlebars`è¾…åŠ©å‡½æ•°çš„å¯¹è±¡ï¼Œè‡ªå®šä¹‰çš„å‡½æ•°å¯ä»¥åœ¨`template`ä¸­ä½¿ç”¨ï¼š

```json
// meta.{js,json}
{
	"helpers": {
	    "if_or": function (v1, v2, options) {
	      if (v1 || v2) {
	        return options.fn(this);
	      }
	
	      return options.inverse(this);
	    }
  	},
}
```

åœ¨`template`çš„æ–‡ä»¶ä½¿ç”¨è¯¥`if_or`ï¼š

```javascript
{{#if_or val1 val2}}
// å½“ val1 æˆ–è€… val2 ä¸º true æ—¶, è¿™é‡Œæ‰ä¼šè¢«æ¸²æŸ“
{{/if_or}}
```

##### complete

åœ¨æ¸²æŸ“å®Œæˆåçš„`complete`å›è°ƒï¼š

```javascript
{
	"complete": function(data, helpers) {}
}
```

`data`å’Œ`helpers`ç”±`vue cli`ä¼ å…¥ï¼š

```javascript
// vue-cli/lib/generate.js
// vue-cli/lib/generate.js

// ...
var data = Object.assign(metalsmith.metadata(), {
	destDirName: name,
	inPlace: dest === process.cwd(),
	noEscape: true
})

// ...

// files æ˜¯ metalsmith build ä¹‹åçš„æ–‡ä»¶å¯¹è±¡
var helpers = {chalk, logger, files}

// ...
```

å¦‚æœ`complete`æœ‰å®šä¹‰ï¼Œåˆ™è°ƒç”¨`complete`ï¼Œåä¹‹ä¼šè¾“å‡º`completeMessage`

[å‚è€ƒé“¾æ¥](https://zhuanlan.zhihu.com/p/32894283)

[vue-cliæºç å­¦ä¹ ](https://github.com/dwqs/blog/issues/56)

#### äºŒã€ä½¿ç”¨vscodeç”Ÿæˆä»£ç ç‰‡æ®µ

##### ä»£ç ç‰‡æ®µåˆ†ä¸ºä¸¤ç§ï¼š

1. å…¨å±€ä»£ç ç‰‡æ®µï¼ˆæ¯ç§è¯­è¨€ç¯å¢ƒä¸‹éƒ½èƒ½è§¦å‘ä»£ç å—ï¼‰ï¼Œæ–°å»ºå…¨å±€ä»£ç ç‰‡æ®µä¼šåœ¨`snippets`ç›®å½•ä¸‹ç”Ÿæˆ`.code-snippets`ä¸ºåç¼€çš„é…ç½®æ–‡ä»¶ï¼Œ

2. å¯¹åº”è¯­è¨€çš„å±€éƒ¨ä»£ç ç‰‡æ®µï¼Œæ–°å»ºå¯¹åº”è¯­è¨€çš„ç‰‡æ®µä¼šåœ¨`snippets`ç›®å½•ä¸‹ç”Ÿæˆ`å¯¹åº”è¯­è¨€ + .json`çš„é…ç½®æ–‡ä»¶

   ![image-20200630165848188](/Users/sundong/Library/Application Support/typora-user-images/image-20200630165848188.png)

##### æ–°å»ºç‰‡æ®µæ–¹å¼

- æ–‡ä»¶ =ã€‹é¦–é€‰é¡¹=ã€‹ç”¨æˆ·ä»£ç ç‰‡æ®µ=ã€‹é€‰æ‹©`ä»£ç æ®µåº”æ˜¾ç¤ºçš„è¯­è¨€`ï¼Œæ¯”å¦‚è¾“å…¥`vue`å°±ä¼šç”Ÿæˆ`vue.json`

- `ctrl + shift + p`æ‰“å¼€å‘½ä»¤çª—å£ï¼Œè¾“å…¥`snippet`ï¼Œç‚¹é€‰é…ç½®ã€Œç”¨æˆ·ä»£ç ç‰‡æ®µã€

- ç‚¹å‡»ç•Œé¢æœ€å·¦ä¾§ç«–æ ï¼ˆä¹Ÿå³æ´»åŠ¨æ ï¼‰æœ€ä¸‹æ–¹çš„**é½¿è½®**æŒ‰é’®ï¼Œåœ¨å¼¹å‡ºæ¥çš„èœå•ä¸­ç‚¹é€‰ã€Œç”¨æˆ·ä»£ç ç‰‡æ®µã€

  ![image-20200630151853178](/Users/sundong/Library/Application Support/typora-user-images/image-20200630151853178.png)

  ##### PSï¼šå¯¹äºå…¨å±€ä»£ç ç‰‡æ®µï¼ˆå¸¦æœ‰åç¼€.code-snippetsçš„jsonæ–‡ä»¶ï¼‰å¯ä»¥é™å®šåˆ°é¡¹ç›®ä¸­ï¼Œåªéœ€è¦æŠŠç›¸å…³æ–‡ä»¶æ”¾åˆ°.vscodeæ–‡ä»¶å¤¹ä¸­é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹å³å¯ã€‚

  ![image-20200630164324524](/Users/sundong/Library/Application Support/typora-user-images/image-20200630164324524.png)

##### è¯­æ³•ç»“æ„

##### prefixï¼šå‰ç¼€ï¼Œä»£ç ä»`IntelliSence`ä¸­å‘¼å‡ºçš„å…³é”®å­—

```
æ”¯æŒN:1,ä¹Ÿå°±æ˜¯å…è®¸å¤šæ¡å‰ç¼€å¯¹åº”åŒä¸€æ¡ä»£ç ç‰‡æ®µï¼Œåªéœ€æŠŠå‰ç¼€å®šä¹‰ä¸ºæ•°ç»„å³å¯
```

![image-20200630162101770](/Users/sundong/Library/Application Support/typora-user-images/image-20200630162101770.png)

##### scopeï¼šåŸŸã€‚ä»£ç ç‰‡æ®µé€‚ç”¨çš„`è¯­è¨€æ¨¡å¼`,ä¸å¡«ä»£è¡¨é€‚ç”¨äºæ‰€æœ‰è¯­è¨€æ¨¡å¼

##### bodyï¼šä¸»ä½“ã€‚ä»£ç ç‰‡çš„`å¸ƒå±€ä¸æ§åˆ¶`ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºä¸€è¡Œ

- Tabstopsï¼šåˆ¶è¡¨ç¬¦ã€‚å¯ä»¥è®©ç¼–è¾‘å™¨çš„æŒ‡é’ˆåœ¨`snippet`å†…è·³è½¬ã€‚ä½¿ç”¨ `$1`ï¼Œ`$2` ç­‰æŒ‡å®šå…‰æ ‡ä½ç½®ã€‚è¿™äº›æ•°å­—æŒ‡å®šäº†å…‰æ ‡è·³è½¬çš„é¡ºåºã€‚ç‰¹åˆ«åœ°ï¼Œ`$0`è¡¨ç¤ºæœ€ç»ˆå…‰æ ‡ä½ç½®ã€‚

- Placeholdersï¼šå ä½ç¬¦ã€‚å¸¦æœ‰é»˜è®¤çš„`Tabstops`,è¿˜æ”¯æŒåµŒå¥—

- Choice:å¯é€‰é¡¹ã€‚æ˜¯æä¾›å¯é€‰å€¼çš„ã€ŒPlaceholderã€ã€‚å…¶è¯­æ³•ä¸ºä¸€ç³»åˆ—ç”¨é€—å·éš”å¼€ï¼Œå¹¶æœ€ç»ˆè¢«ä¸¤ä¸ªç«–çº¿åœˆèµ·æ¥çš„æšä¸¾å€¼ï¼Œæ¯”å¦‚ `${1|one,two,three|}`ã€‚å½“å…‰æ ‡è·³è½¬åˆ°è¯¥ä½ç½®çš„æ—¶å€™ï¼Œç”¨æˆ·å°†ä¼šè¢«æä¾›å¤šä¸ªå€¼ï¼ˆone æˆ– two æˆ– threeï¼‰ä»¥ä¾›é€‰æ‹©

  ![image-20200630162946295](/Users/sundong/Library/Application Support/typora-user-images/image-20200630162946295.png)

- Variablesï¼šå˜é‡ã€‚[å®˜æ–¹é“¾æ¥](https://code.visualstudio.com/docs/editor/userdefinedsnippets)

##### descriptionï¼šæè¿°ã€‚ä»£ç åœ¨`IntelliSence`ä¸­çš„æè¿°ã€‚

##### ä¸¾ä¸ªğŸŒ°ï¼š

```javascript
{
    "vue template": {
        "prefix": "vue",
        "body": [
            "<template>",
            "  <div class=\"page\">",
            "    <el-row type=\"flex\">",
            "    </el-row>",
            "  </div>",
            "</template>",
            "<script>",
			"export default {",
		    "  name: '',",
            "  data () {",
            "    return {",
            "    }",
            "  },",
            "  components: {",
            "  }",
            "}",
            "</script>",
            "<style scoped lang=\"postcss\">",
            "</style>"
        ],
        "description": "vueç›¸å…³ä»£ç ç‰‡æ®µ"
    }
}
```

[å®˜æ–¹å‚è€ƒé“¾æ¥](https://code.visualstudio.com/docs/editor/userdefinedsnippets)

##### å¤šå¨å¨ä¸€ç‚¹ï¼ˆå…³äºæœ‰äº›æ’ä»¶æ˜¯å¦çœŸçš„éœ€è¦ï¼Ÿï¼‰

##### å¯ä»¥å…ˆé€šè¿‡ctrl + shift + pè°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œç„¶åè¾“å…¥`Show Running Extensions`ï¼ŒæŸ¥çœ‹å„ä¸ªæ‰©å±•åœ¨vscodeå¯åŠ¨æ—¶çš„åŠ è½½æ—¶é—´

![image-20200623110959563](/Users/sundong/Library/Application Support/typora-user-images/image-20200623110959563.png)

[åº”è¯¥è€ƒè™‘å¸è½½çš„vscodeæ‰©å±•](https://zhuanlan.zhihu.com/p/125773296)

ç†ç”±å¦‚ä¸‹ï¼š

1. å¯åŠ¨æ…¢ï¼Œå¾ˆå¤šæ‰©å±•æ˜¯å¯åŠ¨ VSCode çš„æ—¶å€™å°±å¼€å§‹åŠ è½½çš„ï¼Œæ‰€ä»¥ä¸ä¸€å®šæ˜¯ VSCode è‡ªèº«å˜æ…¢äº†ï¼Œå¯èƒ½æ˜¯ä½ æ‰©å±•è£…å¤šäº†ã€‚

2. æ‰©å±•ä¹‹é—´çš„å†²çª

3. åŠŸèƒ½é‡å¤

4. cpuå ç”¨è¿‡é«˜

5. ##### åŠŸèƒ½å·²ç»è¢«vscodeå†…ç½®ï¼Œæ¯”å¦‚`Document This`æ’ä»¶ï¼ŒVSCodeå·²ç»å†…ç½®è‡ªåŠ¨ç”Ÿæˆjsdocå’Œæ³¨é‡Šè¡¥å…¨åŠŸèƒ½

6. ç»´æŠ¤ä¸ç§¯æçš„æ‰©å±•ï¼Œå¥½å¤šæ‰©å±•ä½œè€…å·²ç»nå¤šå¹´å‰æ²¡æœ‰ç»´æŠ¤äº†

##### å»ºè®®å¤šå‚è€ƒä¸€ä¸‹[vscodeå®˜ç½‘](https://code.visualstudio.com/)ï¼Œå°½é‡é¿å…ä¹±è£…æ’ä»¶~